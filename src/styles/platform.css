/* Platform-Specific Styles */

/* iOS Specific */
.platform-ios {
  font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', 'Helvetica Neue', sans-serif;
  -webkit-font-smoothing: antialiased;
  -webkit-touch-callout: none;
}

.ios-scrolling {
  -webkit-overflow-scrolling: touch;
}

/* macOS Specific */
.platform-macos {
  font-family: -apple-system, BlinkMacSystemFont, 'SF Pro Display', sans-serif;
}

.macos-vibrancy {
  background: rgba(255, 255, 255, 0.7);
  backdrop-filter: blur(20px);
}

.dark .macos-vibrancy {
  background: rgba(0, 0, 0, 0.5);
  backdrop-filter: blur(20px);
}

/* Android Specific */
.platform-android {
  font-family: Roboto, 'Noto Sans', sans-serif;
  letter-spacing: 0.5px;
}

.material-design {
  /* Material Design ripple effect simulation */
  position: relative;
  overflow: hidden;
}

.material-design::after {
  content: '';
  position: absolute;
  top: 50%;
  left: 50%;
  width: 0;
  height: 0;
  border-radius: 50%;
  background: rgba(255, 255, 255, 0.5);
  transform: translate(-50%, -50%);
  pointer-events: none;
}

.material-design:active::after {
  animation: ripple 600ms ease-out;
}

@keyframes ripple {
  to {
    width: 300px;
    height: 300px;
    opacity: 0;
  }
}

/* Windows Specific */
.platform-windows {
  font-family: 'Segoe UI', 'Segoe UI Historic', 'Segoe MDL2 Assets', sans-serif;
}

.windows-acrylic {
  background: rgba(255, 255, 255, 0.9);
  backdrop-filter: blur(30px);
  border: 1px solid rgba(255, 255, 255, 0.6);
}

.dark .windows-acrylic {
  background: rgba(0, 0, 0, 0.8);
  border: 1px solid rgba(255, 255, 255, 0.1);
}

/* Linux Specific */
.platform-linux {
  font-family: 'Ubuntu', 'Droid Sans', sans-serif;
}

.gtk-theme {
  /* GTK-friendly colors and spacing */
  color-scheme: light dark;
  padding: 8px;
  background-color: rgba(250, 250, 250, 0.98);
}

/* Safe Area Insets for Notches and Safe Areas */
:root {
  --safe-area-inset-top: max(env(safe-area-inset-top, 0), 0px);
  --safe-area-inset-right: max(env(safe-area-inset-right, 0), 0px);
  --safe-area-inset-bottom: max(env(safe-area-inset-bottom, 0), 0px);
  --safe-area-inset-left: max(env(safe-area-inset-left, 0), 0px);
}

.safe-area-inset-top {
  padding-top: var(--safe-area-inset-top);
}

.safe-area-inset-right {
  padding-right: var(--safe-area-inset-right);
}

.safe-area-inset-bottom {
  padding-bottom: var(--safe-area-inset-bottom);
}

.safe-area-inset-left {
  padding-left: var(--safe-area-inset-left);
}

/* Status Bar Color Matching */
@media (prefers-color-scheme: light) {
  .status-bar-light {
    --webkit-status-bar-style: black;
  }
}

@media (prefers-color-scheme: dark) {
  .status-bar-dark {
    --webkit-status-bar-style: white;
  }
}

/* Touch Target Optimization (minimum 44px for iOS, 48px for Android) */
.touch-target {
  min-width: 44px;
  min-height: 44px;
  display: inline-flex;
  align-items: center;
  justify-content: center;
}

/* Haptic Feedback Simulation */
.haptic-pulse {
  animation: haptic-pulse 200ms cubic-bezier(0.4, 0, 0.2, 1);
}

@keyframes haptic-pulse {
  0% {
    transform: scale(1);
  }
  50% {
    transform: scale(0.95);
  }
  100% {
    transform: scale(1);
  }
}

/* Swipe Gesture Support */
.swipe-enabled {
  touch-action: pan-y pinch-zoom;
  -webkit-user-select: none;
  user-select: none;
}

/* Reduced Motion Respect */
@media (prefers-reduced-motion: reduce) {
  *,
  *::before,
  *::after {
    animation-duration: 0.01ms !important;
    animation-iteration-count: 1 !important;
    transition-duration: 0.01ms !important;
    scroll-behavior: auto !important;
  }
}

/* Responsive Font Scaling */
@media (max-width: 640px) {
  html {
    font-size: 14px;
  }
}

@media (min-width: 768px) and (max-width: 1024px) {
  html {
    font-size: 15px;
  }
}

@media (min-width: 1024px) {
  html {
    font-size: 16px;
  }
}

/* Hide Scrollbar but Allow Scrolling */
.hide-scrollbar {
  -ms-overflow-style: none;
  scrollbar-width: none;
}

.hide-scrollbar::-webkit-scrollbar {
  display: none;
}

/* Smooth Scrolling */
html {
  scroll-behavior: smooth;
}

@media (prefers-reduced-motion: reduce) {
  html {
    scroll-behavior: auto;
  }
}

/* Dynamic Island Support (iPhone 14 Pro+) */
@supports (padding: max(0px)) {
  body {
    padding-left: max(12px, env(safe-area-inset-left));
    padding-right: max(12px, env(safe-area-inset-right));
    padding-top: max(12px, env(safe-area-inset-top));
    padding-bottom: max(12px, env(safe-area-inset-bottom));
  }
}
